<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gralobe - Development Preview</title>
    <script type="module" crossorigin src="/assets/index-CnXTP_7o.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/index-DHoUf4YV.css">
  </head>
  <body>
    <nav>
      <span class="logo">gralobe</span>
      <a href="#hero">Hero</a>
      <a href="#statistics">Stats</a>
      <a href="#sizes">Sizes</a>
      <a href="#textures">Textures</a>
      <a href="#effects">Effects</a>

      <a href="#custom">Custom</a>
      <a href="#flat">Flat</a>
      <a href="#tiny">Tiny</a>
      <span class="webgl-count" id="webgl-count">0</span>
    </nav>

    <!-- Hero -->
    <section id="hero">
      <div class="section-header">
        <h2 class="section-title">Interactive Globe</h2>
        <p class="section-desc">
          G: toggle view · F: fullscreen · Click ⚙ Controls to expand
        </p>
      </div>
      <div class="hero-container">
        <div
          id="hero-globe"
          class="globe-container"
          data-config='{"labels":"major","effects":{"atmosphere":true,"clouds":true},"showControls":true}'
        >
          <div class="globe-loader">
            <div class="globe-spinner"></div>
            <div class="globe-progress-track">
              <div class="globe-progress-bar"></div>
            </div>
            <div class="globe-progress-text">0%</div>
          </div>
          <div class="globe-error">Failed to load</div>
          <div class="globe-toolbar always-visible">
            <button
              class="toolbar-btn"
              onclick="toggleFullscreen('hero-globe')"
              title="Fullscreen"
            >
              ⛶
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- City Stats (Custom Topology) -->
    <section id="city-stats">
      <div class="section-header">
        <h2 class="section-title">City Level Statistics</h2>
        <p class="section-desc">
          Using custom topology with <code>disableNormalization: true</code> to
          map arbitrary IDs (FIPS codes)
        </p>
      </div>
      <div class="info-box">
        Loads US Counties (10m) and maps unemployment data to FIPS codes.
        Markers are NOT used.
      </div>
      <div class="grid">
        <div class="variant">
          <div class="variant-header">
            <span class="variant-title">US Unemployment (Counties)</span>
            <span class="variant-meta">Custom TopoJSON</span>
          </div>
          <div
            class="variant-container height-400 globe-container"
            id="globe-city-stats"
            data-config='{"labels":"none","effects":{"atmosphere":false},"showControls":true}'
            data-custom-topology="us_counties"
          >
            <div class="globe-loader">
              <div class="globe-spinner"></div>
              <div class="globe-progress-track">
                <div class="globe-progress-bar"></div>
              </div>
              <div class="globe-progress-text">0%</div>
            </div>
            <div class="globe-toolbar">
              <button
                class="toolbar-btn"
                onclick="toggleFullscreen('globe-city-stats')"
                title="Fullscreen"
              >
                ⛶
              </button>
            </div>
          </div>
        </div>

        <div class="variant">
          <div class="variant-header">
            <span class="variant-title">Germany Population (Districts)</span>
            <span class="variant-meta">Custom TopoJSON (Landkreise)</span>
          </div>
          <div
            class="variant-container height-400 globe-container"
            id="globe-germany"
            data-config='{"labels":"none","effects":{"atmosphere":false},"showControls":true}'
            data-custom-topology="germany_districts"
          >
            <div class="globe-loader">
              <div class="globe-spinner"></div>
              <div class="globe-progress-track">
                <div class="globe-progress-bar"></div>
              </div>
              <div class="globe-progress-text">0%</div>
            </div>
            <div class="globe-toolbar">
              <button
                class="toolbar-btn"
                onclick="toggleFullscreen('globe-germany')"
                title="Fullscreen"
              >
                ⛶
              </button>
            </div>
          </div>
        </div>

        <div class="variant">
          <div class="variant-header">
            <span class="variant-title">US 2020 Election (Simulated)</span>
            <span class="variant-meta">~3000 Data Points</span>
          </div>
          <div
            class="variant-container height-400 globe-container"
            id="globe-us-election"
            data-config='{"labels":"none","effects":{"atmosphere":false},"showControls":true}'
            data-custom-topology="us_election_2020"
          >
            <div class="globe-loader">
              <div class="globe-spinner"></div>
              <div class="globe-progress-track">
                <div class="globe-progress-bar"></div>
              </div>
              <div class="globe-progress-text">0%</div>
            </div>
            <div class="globe-toolbar">
              <button
                class="toolbar-btn"
                onclick="toggleFullscreen('globe-us-election')"
                title="Fullscreen"
              >
                ⛶
              </button>
            </div>
          </div>
        </div>
        </div>
        <div class="variant">
          <div class="variant-header">
            <span class="variant-title">World Cities</span>
            <span class="variant-meta">High Density Heatmap</span>
          </div>
          <div
            class="variant-container height-400 globe-container"
            id="globe-cities"
            data-config='{"labels":"none","effects":{"atmosphere":true,"cityLights":true,"glowPulse":true},"showControls":true}'
            data-custom-topology="world_cities"
          >
            <div class="globe-loader">
              <div class="globe-spinner"></div>
              <div class="globe-progress-track">
                <div class="globe-progress-bar"></div>
              </div>
              <div class="globe-progress-text">0%</div>
            </div>
            <div class="globe-toolbar">
              <button
                class="toolbar-btn"
                onclick="toggleFullscreen('globe-cities')"
                title="Fullscreen"
              >
                ⛶
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Statistics Gallery -->
    <section id="statistics">
      <div class="section-header">
        <h2 class="section-title">Built-in Statistics</h2>
        <p class="section-desc">12 statistics · Lazy loaded on scroll</p>
      </div>
      <div class="stat-gallery" id="stats-gallery"></div>
    </section>

    <!-- Sizes -->
    <section id="sizes">
      <div class="section-header">
        <h2 class="section-title">Responsive Sizing</h2>
        <p class="section-desc">Legend scales with container</p>
      </div>
      <div class="grid grid-2">
        <div class="variant">
          <div class="variant-header">
            <span class="variant-title">Half Width</span>
            <span class="variant-meta">showControls: true</span>
          </div>
          <div
            class="variant-container height-400 globe-container"
            id="globe-size-half"
            data-config='{"labels":"major","showControls":true}'
          >
            <div class="globe-loader">
              <div class="globe-spinner"></div>
              <div class="globe-progress-track">
                <div class="globe-progress-bar"></div>
              </div>
              <div class="globe-progress-text">0%</div>
            </div>
            <div class="globe-toolbar">
              <button
                class="toolbar-btn"
                onclick="toggleFullscreen('globe-size-half')"
                title="Fullscreen"
              >
                ⛶
              </button>
            </div>
          </div>
        </div>
        <div class="variant">
          <div class="variant-header">
            <span class="variant-title">Half Width - All Labels</span>
            <span class="variant-meta">labels: "all"</span>
          </div>
          <div
            class="variant-container height-400 globe-container"
            id="globe-size-half2"
            data-config='{"labels":"all"}'
          >
            <div class="globe-loader">
              <div class="globe-spinner"></div>
              <div class="globe-progress-track">
                <div class="globe-progress-bar"></div>
              </div>
              <div class="globe-progress-text">0%</div>
            </div>
            <div class="globe-toolbar">
              <button
                class="toolbar-btn"
                onclick="toggleFullscreen('globe-size-half2')"
                title="Fullscreen"
              >
                ⛶
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="grid grid-3" style="margin-top: 12px">
        <div class="variant">
          <div class="variant-header">
            <span class="variant-title">Third Width</span>
            <span class="variant-meta">320px</span>
          </div>
          <div
            class="variant-container height-320 globe-container"
            id="globe-size-third1"
            data-config='{"labels":"major","showControls":true}'
          >
            <div class="globe-loader">
              <div class="globe-spinner"></div>
              <div class="globe-progress-track">
                <div class="globe-progress-bar"></div>
              </div>
              <div class="globe-progress-text">0%</div>
            </div>
            <div class="globe-toolbar">
              <button
                class="toolbar-btn"
                onclick="toggleFullscreen('globe-size-third1')"
                title="Fullscreen"
              >
                ⛶
              </button>
            </div>
          </div>
        </div>
        <div class="variant">
          <div class="variant-header">
            <span class="variant-title">Minimal Labels</span>
            <span class="variant-meta">labels: "minimal"</span>
          </div>
          <div
            class="variant-container height-320 globe-container"
            id="globe-size-third2"
            data-config='{"labels":"minimal"}'
          >
            <div class="globe-loader">
              <div class="globe-spinner"></div>
              <div class="globe-progress-track">
                <div class="globe-progress-bar"></div>
              </div>
              <div class="globe-progress-text">0%</div>
            </div>
            <div class="globe-toolbar">
              <button
                class="toolbar-btn"
                onclick="toggleFullscreen('globe-size-third2')"
                title="Fullscreen"
              >
                ⛶
              </button>
            </div>
          </div>
        </div>
        <div class="variant">
          <div class="variant-header">
            <span class="variant-title">No Legend</span>
            <span class="variant-meta">showLegend: false</span>
          </div>
          <div
            class="variant-container height-320 globe-container"
            id="globe-size-third3"
            data-config='{"labels":"major","showLegend":false}'
          >
            <div class="globe-loader">
              <div class="globe-spinner"></div>
              <div class="globe-progress-track">
                <div class="globe-progress-bar"></div>
              </div>
              <div class="globe-progress-text">0%</div>
            </div>
            <div class="globe-toolbar">
              <button
                class="toolbar-btn"
                onclick="toggleFullscreen('globe-size-third3')"
                title="Fullscreen"
              >
                ⛶
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Textures -->
    <section id="textures">
      <div class="section-header">
        <h2 class="section-title">Earth Textures</h2>
        <p class="section-desc">6 presets</p>
      </div>
      <div class="grid grid-3">
        <div class="variant">
          <div class="variant-header">
            <span class="variant-title">Satellite</span>
            <span class="variant-meta">"satellite"</span>
          </div>
          <div
            class="variant-container height-280 globe-container"
            id="globe-tex-satellite"
            data-config='{"texture":"satellite","labels":"none","showControls":true}'
          >
            <div class="globe-loader">
              <div class="globe-spinner"></div>
              <div class="globe-progress-track">
                <div class="globe-progress-bar"></div>
              </div>
              <div class="globe-progress-text">0%</div>
            </div>
            <div class="globe-toolbar">
              <button
                class="toolbar-btn"
                onclick="toggleFullscreen('globe-tex-satellite')"
                title="Fullscreen"
              >
                ⛶
              </button>
            </div>
          </div>
        </div>
        <div class="variant">
          <div class="variant-header">
            <span class="variant-title">Natural</span>
            <span class="variant-meta">"natural"</span>
          </div>
          <div
            class="variant-container height-280 globe-container"
            id="globe-tex-natural"
            data-config='{"texture":"natural","labels":"none"}'
          >
            <div class="globe-loader">
              <div class="globe-spinner"></div>
              <div class="globe-progress-track">
                <div class="globe-progress-bar"></div>
              </div>
              <div class="globe-progress-text">0%</div>
            </div>
            <div class="globe-toolbar">
              <button
                class="toolbar-btn"
                onclick="toggleFullscreen('globe-tex-natural')"
                title="Fullscreen"
              >
                ⛶
              </button>
            </div>
          </div>
        </div>
        <div class="variant">
          <div class="variant-header">
            <span class="variant-title">Night</span>
            <span class="variant-meta">"night"</span>
          </div>
          <div
            class="variant-container height-280 globe-container"
            id="globe-tex-night"
            data-config='{"texture":"night","labels":"none"}'
          >
            <div class="globe-loader">
              <div class="globe-spinner"></div>
              <div class="globe-progress-track">
                <div class="globe-progress-bar"></div>
              </div>
              <div class="globe-progress-text">0%</div>
            </div>
            <div class="globe-toolbar">
              <button
                class="toolbar-btn"
                onclick="toggleFullscreen('globe-tex-night')"
                title="Fullscreen"
              >
                ⛶
              </button>
            </div>
          </div>
        </div>
        <div class="variant">
          <div class="variant-header">
            <span class="variant-title">Topographic</span>
            <span class="variant-meta">"topographic"</span>
          </div>
          <div
            class="variant-container height-280 globe-container"
            id="globe-tex-topo"
            data-config='{"texture":"topographic","labels":"none"}'
          >
            <div class="globe-loader">
              <div class="globe-spinner"></div>
              <div class="globe-progress-track">
                <div class="globe-progress-bar"></div>
              </div>
              <div class="globe-progress-text">0%</div>
            </div>
            <div class="globe-toolbar">
              <button
                class="toolbar-btn"
                onclick="toggleFullscreen('globe-tex-topo')"
                title="Fullscreen"
              >
                ⛶
              </button>
            </div>
          </div>
        </div>
        <div class="variant">
          <div class="variant-header">
            <span class="variant-title">Light</span>
            <span class="variant-meta">"light"</span>
          </div>
          <div
            class="variant-container height-280 globe-container"
            id="globe-tex-light"
            data-config='{"texture":"light","labels":"none"}'
          >
            <div class="globe-loader">
              <div class="globe-spinner"></div>
              <div class="globe-progress-track">
                <div class="globe-progress-bar"></div>
              </div>
              <div class="globe-progress-text">0%</div>
            </div>
            <div class="globe-toolbar">
              <button
                class="toolbar-btn"
                onclick="toggleFullscreen('globe-tex-light')"
                title="Fullscreen"
              >
                ⛶
              </button>
            </div>
          </div>
        </div>
        <div class="variant">
          <div class="variant-header">
            <span class="variant-title">Dark</span>
            <span class="variant-meta">"dark"</span>
          </div>
          <div
            class="variant-container height-280 globe-container"
            id="globe-tex-dark"
            data-config='{"texture":"dark","labels":"none"}'
          >
            <div class="globe-loader">
              <div class="globe-spinner"></div>
              <div class="globe-progress-track">
                <div class="globe-progress-bar"></div>
              </div>
              <div class="globe-progress-text">0%</div>
            </div>
            <div class="globe-toolbar">
              <button
                class="toolbar-btn"
                onclick="toggleFullscreen('globe-tex-dark')"
                title="Fullscreen"
              >
                ⛶
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Effects -->
    <section id="effects">
      <div class="section-header">
        <h2 class="section-title">Visual Effects</h2>
        <p class="section-desc">Atmosphere, clouds, and more</p>
      </div>
      <div class="grid grid-3">
        <div class="variant">
          <div class="variant-header">
            <span class="variant-title">Full Effects</span>
            <span class="variant-meta">atmosphere + clouds</span>
          </div>
          <div
            class="variant-container height-320 globe-container"
            id="globe-fx-full"
            data-config='{"effects":{"atmosphere":true,"clouds":true},"showControls":true}'
          >
            <div class="globe-loader">
              <div class="globe-spinner"></div>
              <div class="globe-progress-track">
                <div class="globe-progress-bar"></div>
              </div>
              <div class="globe-progress-text">0%</div>
            </div>
            <div class="globe-toolbar">
              <button
                class="toolbar-btn"
                onclick="toggleFullscreen('globe-fx-full')"
                title="Fullscreen"
              >
                ⛶
              </button>
            </div>
          </div>
        </div>
        <div class="variant">
          <div class="variant-header">
            <span class="variant-title">Atmosphere Only</span>
            <span class="variant-meta">clouds: false</span>
          </div>
          <div
            class="variant-container height-320 globe-container"
            id="globe-fx-atmo"
            data-config='{"effects":{"atmosphere":true,"clouds":false}}'
          >
            <div class="globe-loader">
              <div class="globe-spinner"></div>
              <div class="globe-progress-track">
                <div class="globe-progress-bar"></div>
              </div>
              <div class="globe-progress-text">0%</div>
            </div>
            <div class="globe-toolbar">
              <button
                class="toolbar-btn"
                onclick="toggleFullscreen('globe-fx-atmo')"
                title="Fullscreen"
              >
                ⛶
              </button>
            </div>
          </div>
        </div>
        <div class="variant">
          <div class="variant-header">
            <span class="variant-title">Clean</span>
            <span class="variant-meta">no effects</span>
          </div>
          <div
            class="variant-container height-320 globe-container"
            id="globe-fx-clean"
            data-config='{"effects":{"atmosphere":false,"clouds":false}}'
          >
            <div class="globe-loader">
              <div class="globe-spinner"></div>
              <div class="globe-progress-track">
                <div class="globe-progress-bar"></div>
              </div>
              <div class="globe-progress-text">0%</div>
            </div>
            <div class="globe-toolbar">
              <button
                class="toolbar-btn"
                onclick="toggleFullscreen('globe-fx-clean')"
                title="Fullscreen"
              >
                ⛶
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Custom Statistics -->
    <section id="custom">
      <div class="section-header">
        <h2 class="section-title">Custom Statistics</h2>
        <p class="section-desc">API simulation - no format function</p>
      </div>
      <div class="info-box">
        Tests <code>StatisticData</code> from JSON (no
        <code>format</code> function). Legend auto-generates formatters.
      </div>
      <div class="grid grid-2">
        <div class="variant">
          <div class="variant-header">
            <span class="variant-title">Coffee Consumption</span>
            <span class="variant-meta">kg/capita</span>
          </div>
          <div
            class="variant-container height-380 globe-container"
            id="globe-custom-coffee"
            data-config='{"labels":"major","showControls":true}'
            data-custom-stat="coffee"
          >
            <div class="globe-loader"></div>
            <div class="globe-toolbar">
              <button
                class="toolbar-btn"
                onclick="toggleFullscreen('globe-custom-coffee')"
                title="Fullscreen"
              >
                ⛶
              </button>
            </div>
          </div>
        </div>
        <div class="variant">
          <div class="variant-header">
            <span class="variant-title">Happiness Index</span>
            <span class="variant-meta">score</span>
          </div>
          <div
            class="variant-container height-380 globe-container"
            id="globe-custom-happiness"
            data-config='{"labels":"major"}'
            data-custom-stat="happiness"
          >
            <div class="globe-loader"></div>
            <div class="globe-toolbar">
              <button
                class="toolbar-btn"
                onclick="toggleFullscreen('globe-custom-happiness')"
                title="Fullscreen"
              >
                ⛶
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Flat View -->
    <section id="flat">
      <div class="section-header">
        <h2 class="section-title">Flat Map</h2>
        <p class="section-desc">Mercator projection · Press G to morph</p>
      </div>
      <div class="grid grid-2">
        <div class="variant">
          <div class="variant-header">
            <span class="variant-title">Flat Default</span>
            <span class="variant-meta">initialView: "flat"</span>
          </div>
          <div
            class="variant-container height-380 globe-container"
            id="globe-flat1"
            data-config='{"initialView":"flat","labels":"major","showControls":true}'
          >
            <div class="globe-loader"></div>
            <div class="globe-toolbar">
              <button
                class="toolbar-btn"
                onclick="toggleFullscreen('globe-flat1')"
                title="Fullscreen"
              >
                ⛶
              </button>
            </div>
          </div>
        </div>
        <div class="variant">
          <div class="variant-header">
            <span class="variant-title">Flat Clean</span>
            <span class="variant-meta">no effects</span>
          </div>
          <div
            class="variant-container height-380 globe-container"
            id="globe-flat2"
            data-config='{"initialView":"flat","labels":"none","effects":{"atmosphere":false,"clouds":false}}'
          >
            <div class="globe-loader"></div>
            <div class="globe-toolbar">
              <button
                class="toolbar-btn"
                onclick="toggleFullscreen('globe-flat2')"
                title="Fullscreen"
              >
                ⛶
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Tiny Widgets -->
    <section id="tiny">
      <div class="section-header">
        <h2 class="section-title">Tiny Widgets</h2>
        <p class="section-desc">Minimal footprint</p>
      </div>
      <div class="grid grid-4">
        <div class="variant">
          <div class="variant-header">
            <span class="variant-title">GDP</span>
          </div>
          <div
            class="variant-container height-180 globe-container"
            id="globe-tiny1"
            data-config='{"statistic":"gdpPerCapita","labels":"none","showLegend":true,"effects":{"atmosphere":false,"clouds":false}}'
          >
            <div class="globe-loader"></div>
            <div class="globe-toolbar">
              <button
                class="toolbar-btn"
                onclick="toggleFullscreen('globe-tiny1')"
                title="Fullscreen"
              >
                ⛶
              </button>
            </div>
          </div>
        </div>
        <div class="variant">
          <div class="variant-header">
            <span class="variant-title">CO2</span>
          </div>
          <div
            class="variant-container height-180 globe-container"
            id="globe-tiny2"
            data-config='{"statistic":"co2Emissions","labels":"none","showLegend":true,"effects":{"atmosphere":false,"clouds":false}}'
          >
            <div class="globe-loader"></div>
            <div class="globe-toolbar">
              <button
                class="toolbar-btn"
                onclick="toggleFullscreen('globe-tiny2')"
                title="Fullscreen"
              >
                ⛶
              </button>
            </div>
          </div>
        </div>
        <div class="variant">
          <div class="variant-header">
            <span class="variant-title">Internet</span>
          </div>
          <div
            class="variant-container height-180 globe-container"
            id="globe-tiny3"
            data-config='{"statistic":"internetUsers","labels":"none","showLegend":true,"effects":{"atmosphere":false,"clouds":false}}'
          >
            <div class="globe-loader"></div>
            <div class="globe-toolbar">
              <button
                class="toolbar-btn"
                onclick="toggleFullscreen('globe-tiny3')"
                title="Fullscreen"
              >
                ⛶
              </button>
            </div>
          </div>
        </div>
        <div class="variant">
          <div class="variant-header">
            <span class="variant-title">Forest</span>
          </div>
          <div
            class="variant-container height-180 globe-container"
            id="globe-tiny4"
            data-config='{"statistic":"forestArea","labels":"none","showLegend":true,"effects":{"atmosphere":false,"clouds":false}}'
          >
            <div class="globe-loader"></div>
            <div class="globe-toolbar">
              <button
                class="toolbar-btn"
                onclick="toggleFullscreen('globe-tiny4')"
                title="Fullscreen"
              >
                ⛶
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <footer>
      gralobe · <a href="https://github.com/batikanor/gralobe">GitHub</a> ·
      <a href="https://npmjs.com/package/gralobe">npm</a>
    </footer>

  </body>
</html>
